<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json" />
  <title>Form Submission</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

</head>
<body>
  <section id="form" class="fixed">
    <form class="inline-block my-2 hover:border-gray-400 border-transparent border ">
      <label for="email">Email:</label>
      <input  class="" type="email" id="email" name="email" >
      <button class="bg-blue-100 px-2 rounded" type="submit">save</button>
    </form>
  </section>
  <section id="box" class="">
    <iframe src="./box.html" frameborder="0" class="h-screen w-screen"></iframe>
  </section>
  <section id="rank" class="sm:absolute top-0 right-0 w-xs">
    <h2>rank:</h2>
    <iframe src="./rank.html" frameborder="0" class="h-80"></iframe>
  </section>
  <!--fixed 居中-->
  <section id="submit" class="fixed top-1/4 left-0 right-0 w-xs mx-auto hidden">
    <iframe src="./submit.html" frameborder="0" class="h-80"></iframe>
  </section>
<script>
  const search = new URLSearchParams(window.location.search)
  const Bearer = search.get('Bearer')

  window.$box=document.querySelector('#box')
  window.$submit=document.querySelector('#submit')
  window.$rank=document.querySelector('#rank')

  window.$submit.querySelector('iframe').src+=`?Bearer=${Bearer}`

  document.getElementById('form').addEventListener('submit', async function (e) {
    e.preventDefault();
    const email=document.getElementById('email').value
    window.localStorage.setItem('email',email)
    alert('保存成功')
  })
  document.querySelector('#email').value=window.localStorage.getItem('email')


</script>
</body>
</html>
